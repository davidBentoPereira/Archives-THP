JOURNALISTS = ["@jcunniet","@PaulLampon","@Aziliz31","@ssoumier","@marionsouzeau","@gaellombart","@bendarag","@AurelieLebelle","@julienduffe","@thomaspoupeau","@LilyRossignol","@ClairGuedon","@stephanieauguy","@claw_prolongeau","@_JulieMenard","@LColcomb","@Zlauwereys","@MeLonguet","@DorotheeLN","@NolwennCosson","@ADaboval","@Remibaldy","@bderveaux","@amandechap","@ELODIESOULIE","@nbongarcon","@HeloAb","@Panamorama","@gregplou","@BenoitBerthe","@LauraBruneau89","@Anthony_Lieures","@Sharonwaj","@mcsonkin","@pverduzier","@emiliel3","@Julien_MARION","@SophiFay","@bdelombre","@annalecerf","@AdriaBudry","@DejNikolic","@iJaffre","@CyrusleVirus","@GPardigon","@e_vallerey","@IsabelleSouquet","@AudeDavidRossi","@Yoann_Pa","@CeliaPenavaire","@perraultvincent","@cboulate","@JustineWeyl","@Paulinejacot","@juliechab","@aslechevallier","@phnou","@Seb_Pommier","@Alex_Bensaid","@GuillaumeGaven","@annelaurechouin","@Oliviader","@guerricp","@JMMarchaut","@cyceron","@gregory_raymond","@vhunsinger","@l_peillon","@fannyguinochet","@EAssayag","@KibweAdom","@YvonHerry","@JohanGarciajg","@saidlabidi","@lauranneprov","@LeaDavy","@francois_remy","@CGuicheteau","@FloMaillet","@m_perroud","@oBrunet_TSMF","@MoonVdc","@jc2taille","@NellyMoussu","@VirginK","@b_misa","@FabriceCouste","@barbara_prose","@lelia2m","@brunoaskenazi","@laurenechamp","@ysisbox","@juliengagliardi","@PierreLel","@kdeniau","@_TerraInc","@DominicArpin","@antoinfonteneau","@nanotousch","@jb_roch","@YaniKhezzar","@Anne_Bechet","@NCapart","@SamyBenNaceur","@Joumany","@Julietteraynal","@TGiraudet","@SaraTanit","@HappeFrederic","@antoinellorca","@michelpicot","@Sev_Ryne","@bobdobolino","@murdever","@YGrandmontagne","@Mnyo","@EdKOSCIANSKI","@tnoisette","@jankari","@delbello_rom","@rflechaux","@NadiaSorelli","@IT_Digital","@abarbaux","@PhilippeLeroy","@schaptal","@marionspee","@lisavignoli","@ChloeAeberhardt","@MartineJacot","@JuliaPascualita","@curieusedetout","@sgraveleau","@bif_o","@ElisaPineau","@zinebdryef","@apiquard","@pierrehaski","@StephanieDelmas","@Blandine_Garot","@vergara_i","@evan_lebastard","@SophieVclt","@OlivierLevrault","@alicedorgeval","@LouiseMalnoy","@alix_fx","@pierre_baudis","@LucMagoutier","@AgatheMuller","@SGianninelli","@PaulineBoyer33","@NaomiHalll","@romaindlx","@marionbr","@Burtschy","@JacobEtienne","@as_lizzani","@marie_simon","@LaureDaussy","@FabriceAmedeo","@LoubnaChlaikhy","@PlummerWilliam","@OlivierMarin1","@alaurefremont","@mwesfreid","@ChBaDe","@pmathon","@theobaldmarie","@Lnpagesy","@marclandre","@paoliniesther","@Feertchak","@JBLitzler","@GuillaumeErrard","@quentinperinel","@TristanQM","@mlbo","@constancejamet","@LoraTerrazas","@emiliegeffray","@Mathilde_Sd","@CaroPiquet","@DCanivez","@TIM_7375","@blandinelc","@ivanrioufol","@arthurberdah","@SarahLecoeuvre","@guillaume_gui","@DamienMercereau","@W_Chloe","@Assma_MD","@EugenieBastie","@HiTech_lexpress","@bcondominas","@Laurie_Z_","@jeanfrancgerard","@MathieuPagura","@BGUYF","@AlainPiffaretti","@AudreyKucinskas","@julienhory","@Pierrefalga","@TiphThuillier","@cdaniez","@LigerBaptiste","@D_Peras","@julie_dlb","@Fatiha_Temmouri","@julian2lamancha","@GaetaneDeljurie","@JulianMattei","@M_Vicuna","@DeBruynOlivier","@Nehed_Jendoubi","@antoine_grenapi","@ColonnaGen","@VictoriaGairin","@Clement_Lacombe","@TVigoureux","@MargauxObriot","@solinedelos","@RocheSabine","@dangerkens","@EdouardDutour","@MDondeyne","@DupuisNathalie1","@bouscarel","@Mathieu2jean","@Sophie_T_J","@laurentcalixte","@patrockwilliams","@PascaleKremer","@AlexJaquin","@LauraIsaaz","@cath_robin","@Del_Gautherin","@Isaduriez","@lucietuile","@AugeyBastien","@mcastagnet","@AminaKalache","@mvaudano","@CParrot","@ombelinetips","@_JoinLion","@BarbolosiRose","@ToiBruno1","@FloraClodic","@xjbdx","@AlexiaEy","@Emjy_STARK","@elcoco01","@rabilebon","@pflovens_","@FabriceFrossard","@MorganeSERRES","@MarjolaineKoch","@edgarsnow","@SRNLF","@CChassigneux","@KerinecMoran","@NassiraELM","@NewsRicard","@Sandreene","@Emilezrt","@Pierre_Do","@Micode","@CColumelli","@DavidAbiker","@ClementBergantz","@benjaminrabier","@celinekallmann","@edwyplenel","@C_Barbier","@JJBourdin_RMC","@LaurenceFerrari","@aslapix","@IsaMillet","@MaximeSwitek","@tomjoubert","@jszanchi","@roqueeva","@XavierBiseul","@florencesantrot","@AntoineCrochet","@freeman59","@MaudeML","@philippe_gulpi","@mathieum76","@kiouari","@imanemoustakir","@BenedicteMallet","@Emilie_Brouze","@antoinebarret","@_nicolasbocquet","@remibuhagiar","@CourretB","@AymericRobert","@miraelmartins","@pmaniere","@jesuisraphk","@David_Ingram","@pcelerier","@technomedia","@Geraldinedauver","@ThierryLabro","@Newsdusud","@nrauline","@gbregeras","@SCouasnonBFM","@actualites_nrv","@dimitrimoulins","@oli_aura","@FabieChiche","@Vincent_Raimblt","@ChristophGreuet","@PAlbuchay","@MarrauddesGrot","@vtalmon","@cedric","@olivierfrigara","@Julien_Jay","@LydiaBerroyer","@Shuua","@datisdaz","@Steuph","@ameliecharnay","@Bruno_LesNums","@LelloucheNico","@CciliaDiQuinzio","@Elodie_C","@SylvRolland","@Kocobe","@FL_Debes","@jdupontcalbo","@GarciaVictor_","@NicoRichaud","@RHoueix","@simottel","@DamienLicata","@annabelle_L","@Lea_Lejeune","@axel_deb","@marin_eben","@ptiberry","@MatthieuDelach","@sandrinecassini","@benjaminferran","@ppgarcia75","@NotPatrick","@ivalerio","@FabienneSchmitt","@alexgoude","@JeromeColombain","@manhack","@Capucine_Cousin","@Fsorel","@oliviertesquet","@marjoriepaillon","@ginades","@PierreTran","@DelphineCuny","@reesmarc","@lauratenoudji","@ldupin","@carolinedescham","@Lucile_Quillet","@cgabizon","@Allocab","@epenser","@JAGventeprivee","@frwrds","@Laure__Bourdon","@Xavier75","@maximeverner","@s_jourdain","@LoriHelloc"]

ANSWERS = {
    1 => "Réponse : Il y a #{JOURNALISTS.length} journalistes dans ce tableau",
    2 => "Réponse : #{JOURNALISTS.select{ |i| i[/\d+/] }.length} handle contiennent un numéro",
    3 => "Réponse : Il y a #{JOURNALISTS.select{ |i| i[/Aude/i]}.length} handle qui contiennent les 4 lettres du prénom 'Aude'",
    4 => "Réponse : Il y a #{JOURNALISTS.select{ |i| i[/^@[A-Z]/]}.length} handle commençant par une majuscule",
    5 => "Réponse : Il y a #{JOURNALISTS.select{ |i| i[/[A-Z]+/]}.length} handle contenant au moins une majuscule",
    6 => "Réponse : Il y a #{JOURNALISTS.join.count "_"} underscore _ dans tous le tableau de pseudos",
    7 => "Réponse : Voici la liste de handle trier par ordre alphabétique : #{JOURNALISTS.sort}",
    8 => "Réponse : Voici la liste des 50 handles les plus courts de ce tableau : #{JOURNALISTS.sort_by{|s| s.length }[0..49]}",
    9 => "Réponse : @epenser se trouve en #{JOURNALISTS.index('@epenser')} position"
}

def display_menu
  puts "- BIENVENUE A TOI CHER(ERE) MOUSSAILLON(E) !"
  puts "* Mais pourquoi je crie moi ? *"
  puts "- Hum, hum. Bienvenue à toi cher(/ère) Moussaillon(e)."
  puts "- J'sais bien qu'on a pas élevé les cochons ensemble mais on va se tutoyer. T'façon tout est programmé donc tu peux pas dire non. Sheeeeh !"
  puts "- Bref, pas le temps d'niaiser. Que veux-tu faire ? (tapes le numéro pour accéder au programme associé)"
  puts "1. Affiches-moi une liste de questions que je peux te poser (par contre abuses pas wallah, j'suis pas le génie de la lampe non plus !)"
  puts "2. Chantes-moi une chanson mon cochon"
  puts "(Appuies sur 'entrée' pour quitter le programme)"
  puts "- " * 30
  print "> "
  choice = gets.to_i
end

def ask_questions
  puts "Voici une liste des questions que tu peux poser. Tapes le numéro de la question pour obtenir la réponse :"
  puts "1. Combien y a-t-il de journalistes dans cet array ?"
  puts "2. Combien d'handle contiennent un numéro ?"
  puts "3. Combien d'handle contiennent les 4 lettres du prénom 'Aude' à la suite (sans prendre en compte les majuscules) ? "
  puts "4. Combien commencent par une majuscule (première lettre juste après le @) ?"
  puts "5. Combien contiennent au moins une majuscule ?"
  puts "6. Combien y a-t-il de underscore _ dans tous les pseudos confondus ?"
  puts "7. Trie la liste de handle par ordre alphabétique."
  puts "8. Quels sont les 50 handles les plus courts de ce array ?"
  puts "9. Quelle est la position dans l'array de la personne @epenser ?"
  puts "(Appuies sur 'entrée' pour quitter le programme)"
  puts "- " * 30
  print "> "
  question_id = gets.to_i

  display_answer(question_id)

  puts "1. Poser une autre question"
  puts "(Appuies sur 'entrée' pour quitter le programme)"
  print "> "
  choice = gets.to_i

  if choice === 1
    ask_questions
  else
    puts "- - - Fin du programme - - -"
    exit
  end
end

def sing_a_song
  puts "- TU ME PRENDS POUR UN SALTINBANQUE ESPECE DE P'TITE PETZOUILLE ?!"
  puts "- Bah c'est pas faux."
  puts "* Raclement de gorge *"
  puts "
        Mon petit oiseau
        A pris sa volée
        Mon petit oiseau
        A pris sa volée
        A pris sa, à la volette
        A pris sa, à la volette
        A pris sa volée

        Il s'est envolé
        Sur un oranger
        Il s'est envolé
        Sur un oranger
        Sur un o, à la volette
        Sur un o, à la volette
        Sur un oranger

        La branche était sèche
        L'oiseau est tombé
        La branche était sèche
        L'oiseau est tombé
        L'oiseau est, à la volette
        L'oiseau est, à la volette
        L'oiseau est tombé
        "
  puts "* 'Vais p'têtre aller m'inscire à la Star'Ac moi...Ca existe encore ce truc d'ailleurs ?*"
  puts "- - - Fin du programme - - -"
end

def handle_choice(choice)
  if choice === 1 # Display list questions
    ask_questions
  elsif choice === 2 # Chanter une chanson
    sing_a_song
  else # Quitter programme
    puts "- - - Fin du programme - - -"
    exit
  end
end

def display_answer(question_id)
  # Display the answer
  if question_id >= 1 && question_id <= 9
    puts ANSWERS[question_id]
  else
    puts "- - - Fin du programme - - -"
    exit
  end
end

# Perform all the methods
def perform
  # Display menu and capture user's response
  choice = display_menu
  # Run a function depending on user's response
  handle_choice(choice)
end

# Run the program
perform