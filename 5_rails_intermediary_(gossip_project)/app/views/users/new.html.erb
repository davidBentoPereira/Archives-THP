<!-- Content title -->
<h2 class="h1 text-center my-3">Créer un utilisateur</h2>

<!-- Flash message -->
<% if @user.errors.any? %>
  <div class="alert alert-danger" role="alert">
    <p>Nous n'avons pas réussi à créer l'utilisateur pour la (ou les) raison(s) suivante(s) :</p>
    <ul>
      <% @user.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<div class="row justify-content-center" style="margin-bottom: 100px;">
  <div class="col-6">
    <%= form_tag url_for(action: 'create'), method: "post" do %>
      <div class="form-row">
        <div class="col">
          <div class="form-group">
            <%= label_tag 'Prénom* :' %>
            <%= text_field_tag 'first_name', @user.first_name, {class: 'form-control', placeholder: "Britney"} %>
          </div>
        </div>

        <div class="col">
          <div class="form-group">
            <%= label_tag 'Nom* :' %>
            <%= text_field_tag 'last_name', @user.last_name, {class: 'form-control', placeholder: "Spears"} %>
          </div>
        </div>
      </div>

      <div class="form-group">
        <%= label_tag 'Description* :' %>
        <%= text_area_tag 'description', @user.description, {class: 'form-control', placeholder: "Saisissez votre description..."} %>
      </div>

      <div class="form-group">
        <%= label_tag 'Email* :' %>
        <%= email_field_tag 'email', @user.email, {class: 'form-control', placeholder: "britney.spears@protonmail.com"} %>
      </div>

      <div class="form-row">
        <div class="col">
          <div class="form-group">
            <%= label_tag 'Mot de passe* :' %>
            <%= text_field_tag 'password', @user.password, {class: 'form-control', placeholder: "*********"} %>
          </div>
        </div>

        <div class="col">
          <div class="form-group">
            <%= label_tag 'Saisir à nouveau le mot de passe* :' %>
            <%= text_field_tag 'password_confirmation', @user.password, {class: 'form-control', placeholder: "*********"} %>
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="col">
          <div class="form-group">
            <%= label_tag 'Age* :' %>
            <%= number_field_tag 'age', @user.age, {class: 'form-control'} %>
          </div>
        </div>

        <div class="col">
          <div class="form-group">
            <%= label_tag 'Ville* :' %>
            <%= select_tag "city", options_from_collection_for_select(City.all, :id, :name), {class: 'form-control' } %>
          </div>
        </div>
      </div>

      <div class="row justify-content-center">
        <%= submit_tag "Valider mon inscription", {class: 'btn btn-primary'} %>
      </div>
    <% end %>
  </div>
</div>
